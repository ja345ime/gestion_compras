2025-06-28 18:19:26,933 [INFO] ===== Verificando entorno =====
2025-06-28 18:19:26,945 [INFO] Proceso gunicorn activo: 56257 gunicorn
56261 gunicorn
56262 gunicorn
56263 gunicorn
2025-06-28 18:19:26,956 [INFO] Proceso flask no encontrado
2025-06-28 18:19:26,967 [INFO] Proceso nginx activo: 720 nginx
723 nginx
2025-06-28 18:19:26,968 [INFO] El puerto 8000 está libre
2025-06-28 18:19:26,968 [INFO] Se encontró codex_api.service en /etc/systemd/system/codex_api.service
2025-06-28 18:19:26,995 [INFO] × codex_api.service - codex API Gunicorn Service
     Loaded: loaded (/etc/systemd/system/codex_api.service; enabled; vendor preset: enabled)
     Active: failed (Result: exit-code) since Thu 2025-06-26 21:01:12 UTC; 1 day 21h ago
   Main PID: 649 (code=exited, status=3)
        CPU: 5.992s

Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]: [2025-06-26 21:01:07 +0000] [746] [INFO] Worker exiting (pid: 746)
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Worker (pid:744) exited with code 3
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Worker (pid:743) was sent SIGTERM!
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Worker (pid:740) was sent SIGTERM!
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Worker (pid:746) was sent SIGTERM!
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Shutting down: Master
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Reason: Worker failed to boot.
Jun 26 21:01:12 granja-losmolinos-app systemd[1]: codex_api.service: Main process exited, code=exited, status=3/NOTIMPLEMENTED
Jun 26 21:01:12 granja-losmolinos-app systemd[1]: codex_api.service: Failed with result 'exit-code'.
Jun 26 21:01:12 granja-losmolinos-app systemd[1]: codex_api.service: Consumed 5.992s CPU time.

2025-06-28 18:19:26,995 [WARNING] codex_api.service no está activo
2025-06-28 18:19:26,995 [INFO] Escribiendo archivo de servicio en /etc/systemd/system/codex_api.service
2025-06-28 18:19:28,578 [INFO] Gunicorn reiniciado
2025-06-28 18:19:28,618 [INFO] Logs recientes de codex_api.service:
Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]:   File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]:   File "<frozen importlib._bootstrap_external>", line 883, in exec_module
Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]:   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]:   File "/home/gestion_compras/wsgi.py", line 1, in <module>
Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]:     from app import app, db, crear_datos_iniciales
Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]:   File "/home/gestion_compras/app/__init__.py", line 40, in <module>
Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]:     from .utils import (
Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]:   File "/home/gestion_compras/app/utils.py", line 18, in <module>
Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]:     from .models import (
Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]: ImportError: cannot import name 'Rol' from 'app.models' (/home/gestion_compras/app/models.py)
Jun 26 21:01:07 granja-losmolinos-app gunicorn[746]: [2025-06-26 21:01:07 +0000] [746] [INFO] Worker exiting (pid: 746)
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Worker (pid:744) exited with code 3
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Worker (pid:743) was sent SIGTERM!
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Worker (pid:740) was sent SIGTERM!
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Worker (pid:746) was sent SIGTERM!
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Shutting down: Master
Jun 26 21:01:12 granja-losmolinos-app gunicorn[649]: [2025-06-26 21:01:12 +0000] [649] [ERROR] Reason: Worker failed to boot.
Jun 26 21:01:12 granja-losmolinos-app systemd[1]: codex_api.service: Main process exited, code=exited, status=3/NOTIMPLEMENTED
Jun 26 21:01:12 granja-losmolinos-app systemd[1]: codex_api.service: Failed with result 'exit-code'.
Jun 26 21:01:12 granja-losmolinos-app systemd[1]: codex_api.service: Consumed 5.992s CPU time.

